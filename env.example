# ========================================
# HC Approval Environment Configuration
# ========================================

# Server
PORT=3000
NODE_ENV=production

# Google Apps Script Web App (Optional - for legacy Google Sheets integration)
# Deploy your Apps Script as a Web App and paste the URL here
SHEET_WEBAPP_URL=https://script.google.com/macros/s/XXXX/exec

# ============================================================================
# Slack Configuration
# ============================================================================
SLACK_BOT_TOKEN=xoxb-your-bot-token
SLACK_APP_TOKEN=xapp-your-app-token  # For Socket Mode
SLACK_SIGNING_SECRET=your-signing-secret
SLACK_FINANCE_CHANNEL_ID=C01234567  # Channel to notify Finance team
SLACK_RECRUITING_CHANNEL_ID=C01234568  # Channel to notify Recruiting team when approved
SLACK_HIRING_CHANNEL_ID=C01234569  # Channel for weekly active jobs postings (#hiring-at-handshake)
SLACK_SCOTT_USER_ID=U01234567  # User ID for confidential requests (replace with your admin user ID)

# ============================================================================
# Glean & Confluence URLs (for /hc-help command)
# ============================================================================
GLEAN_HC_APPROVAL_AGENT_URL=https://your-company.glean.com/chat/agents/YOUR_AGENT_ID
CONFLUENCE_HC_APPROVAL_URL=https://your-company.atlassian.net/wiki/spaces/YOUR_SPACE/pages/
HIRING_MANAGER_RESOURCES_URL=https://your-company.atlassian.net/wiki/spaces/REC/pages/123456789/Hiring+Manager+Resources

# ============================================================================
# Linear Configuration
# ============================================================================
LINEAR_API_KEY=lin_api_your-api-key
LINEAR_WEBHOOK_SECRET=your-webhook-secret-min-32-chars
LINEAR_TEAM_ID=00000000-0000-0000-0000-000000000000  # Get from Linear team settings

# Linear User IDs (for auto-assignment and subscriptions)
# Get these from Linear by going to Settings -> Members -> Click user -> Copy ID from URL

# Finance BPs (auto-assigned ONLY if issue is unassigned)
LINEAR_USER_ID_SANDER=00000000-0000-0000-0000-000000000000  # Finance BP for CORE R&D, Europe
LINEAR_USER_ID_QUINN=00000000-0000-0000-0000-000000000000   # Finance BP for S&M CORE+HAI
LINEAR_USER_ID_PATRICIA=00000000-0000-0000-0000-000000000000  # Finance BP for G&A, HAI EPD, Other

# HRBPs (already subscribed by Slack form, these are for reference)
LINEAR_USER_ID_ELISE=00000000-0000-0000-0000-000000000000  # HRBP for EPD
LINEAR_USER_ID_JULIA=00000000-0000-0000-0000-000000000000  # HRBP for S&M
LINEAR_USER_ID_STEPH=00000000-0000-0000-0000-000000000000  # HRBP for G&A
LINEAR_USER_ID_KATIE=00000000-0000-0000-0000-000000000000  # HRBP for HAI

# Rec Ops (auto-subscribed to ALL requests for visibility)
LINEAR_USER_ID_ERICA=00000000-0000-0000-0000-000000000000  # Rec Ops - for comp data
LINEAR_USER_ID_CALLISTA=00000000-0000-0000-0000-000000000000  # Rec Ops - for comp data

# Strategy/CoS (already subscribed by Slack form for HAI, these are for reference)
LINEAR_USER_ID_HANS_BJORNAVOLD=00000000-0000-0000-0000-000000000000  # CoS to CEO
LINEAR_USER_ID_KEELY_VILLA=00000000-0000-0000-0000-000000000000  # EPD Core
LINEAR_USER_ID_JAD_JAWAD=00000000-0000-0000-0000-000000000000  # CoS HAI CSO
LINEAR_USER_ID_STEPH_CHOU=00000000-0000-0000-0000-000000000000  # GTM CoS
LINEAR_USER_ID_ALICE=00000000-0000-0000-0000-000000000000  # For backwards compatibility
LINEAR_USER_ID_MIKE=00000000-0000-0000-0000-000000000000  # For backwards compatibility

# Recruiting Managers (auto-assigned when moved to "Opened in Ashby")
LINEAR_USER_ID_RAMIRO_MOLINA=00000000-0000-0000-0000-000000000000  # RM - Tech (Eng, Product, Data, AI)
LINEAR_USER_ID_JAMIE_JACOBS=00000000-0000-0000-0000-000000000000  # RM - GTM (Sales, Marketing, CS)

# ============================================================================
# Linear State IDs (Headcount Approvals team)
# ============================================================================
# Workflow States:
# - Backlog: Queued for Finance Review, In Review
# - Started: Approved, Opened in Workday/Ashby
# - Completed: Hired, Rejected
# - Canceled: Closed - Canceled, Duplicate, Administrative Error
LINEAR_STATE_IDS__QUEUED_FOR_REVIEW=00000000-0000-0000-0000-000000000000  # "Queued for Finance Review" [Backlog]
LINEAR_STATE_IDS__IN_REVIEW=00000000-0000-0000-0000-000000000000         # "In Review" [Backlog]
LINEAR_STATE_IDS__APPROVED=00000000-0000-0000-0000-000000000000          # "Approved" [Started]
LINEAR_STATE_IDS__OPENED_IN_ASHBY=00000000-0000-0000-0000-000000000000   # "Opened in Workday/Ashby" [Started]
LINEAR_STATE_IDS__HIRED=00000000-0000-0000-0000-000000000000              # "Hired" [Completed]
LINEAR_STATE_IDS__WITHDRAWN=00000000-0000-0000-0000-000000000000          # "Closed - Canceled" [Completed]

# ============================================================================
# Linear Project IDs (for auto-assignment)
# ============================================================================
# Executive/Division Projects - Openings stay here forever!
LINEAR_PROJECT_ID_HAI_HIRING_PLAN=00000000-0000-0000-0000-000000000000           # "HAI Headcount" - Executive/Division
LINEAR_PROJECT_ID_ENGINEERING_HIRING=00000000-0000-0000-0000-000000000000        # "Engineering Headcount" - Executive
LINEAR_PROJECT_ID_PRODUCT_HIRING=00000000-0000-0000-0000-000000000000            # "Product Headcount" - Executive
LINEAR_PROJECT_ID_DESIGN_HIRING=00000000-0000-0000-0000-000000000000             # "Design Headcount" - Executive
LINEAR_PROJECT_ID_REVENUE_HIRING=00000000-0000-0000-0000-000000000000            # "Revenue Headcount" - Executive
LINEAR_PROJECT_ID_MARKETING_HIRING=00000000-0000-0000-0000-000000000000          # "Marketing Headcount" - Executive
LINEAR_PROJECT_ID_FINANCE_HIRING=00000000-0000-0000-0000-000000000000            # "Finance Headcount" - Executive
LINEAR_PROJECT_ID_LEGAL_HIRING=00000000-0000-0000-0000-000000000000              # "Legal Headcount" - Executive
LINEAR_PROJECT_ID_PEOPLE_HIRING=00000000-0000-0000-0000-000000000000            # "People Headcount" - Executive
LINEAR_PROJECT_ID_EDUCATION_HIRING=00000000-0000-0000-0000-000000000000          # "Education Headcount" - Executive

# Fallback for openings without executive division selection
LINEAR_PROJECT_ID_PENDING_OPENINGS=00000000-0000-0000-0000-000000000000          # General queue (manual routing needed)

# ============================================================================
# Linear Initiative IDs (optional - link openings to strategic initiatives)
# ============================================================================
LINEAR_INITIATIVE_ID_HAI_PAYMENTS=000000000000              # Handshake AI - Payments
LINEAR_INITIATIVE_ID_HAI_TECH_FOUNDATIONS=000000000000     # HAI Technical Foundations
LINEAR_INITIATIVE_ID_HAI_PRODUCT_DEV=000000000000          # HAI Product Dev
LINEAR_INITIATIVE_ID_FELLOWSHIP=000000000000                # HAI Fellowship Program
LINEAR_INITIATIVE_ID_BANGALORE=000000000000                 # Global Expansion - Bangalore
LINEAR_INITIATIVE_ID_CAMPUS=000000000000                    # Campus Recruiting Expansion

# ============================================================================
# Linear Custom Field IDs (optional - fetch by name if not set)
# ============================================================================
# These are optional - the system will fetch by name if not provided
# CFID_FINID=...
# CFID_FINID_STATUS=...
# CFID_EMPLOYMENT_TYPE=...
# CFID_HEADCOUNT_TYPE=...
# CFID_LEVEL=...
# CFID_LOCATION=...
# CFID_EST_BASE=...
# CFID_EST_OTE=...
# CFID_EST_ANC=...
# CFID_ROLE_TYPE=...

# ============================================================================
# Ashby API Configuration
# ============================================================================
ASHBY_API_KEY=your-ashby-api-key  # Ashby API key (Jobs/Candidates/Offers read, Jobs write)
ASHBY_WEBHOOK_SECRET=your-ashby-webhook-secret  # Secret for verifying Ashby webhook requests (min 32 chars, generate with: openssl rand -hex 32)

# ============================================================================
# SignalMap Integration (for new roles - optional)
# ============================================================================
SIGNALMAP_API_URL=https://your-signalmap-url.vercel.app/api
SIGNALMAP_API_KEY=your-signalmap-api-key

# ============================================================================
# RecruitingBot Integration (for evergreen roles - optional)
# ============================================================================
RECRUITING_BOT_WEBHOOK_URL=https://your-recruiting-bot-url/webhook
RECRUITING_BOT_API_KEY=your-recruiting-bot-api-key

# ============================================================================
# Notion Integration (optional)
# ============================================================================
NOTION_API_KEY=secret_your-notion-api-key
NOTION_DATABASE_ID=00000000-0000-0000-0000-000000000000  # Notion database ID for capacity tracking

# ============================================================================
# Pinecone Integration (for compensation data auto-fill - PRIVATE/SENSITIVE)
# ============================================================================
# ⚠️ SECURITY: Keep API key secure, do not expose in public repos
PINECONE_API_KEY=your-pinecone-api-key
PINECONE_INDEX_NAME=hc-approval

# ============================================================================
# Capacity Tracker (for month-over-month headcount planning - optional)
# ============================================================================
# Uses the same Pinecone index as compensation data (hc-approval) - records differentiated by metadata 'type' field
CAPACITY_TRACKER_ENABLED=false
CAPACITY_NOTION_DB_ID=00000000-0000-0000-0000-000000000000
# Track all roles (recommended) - load all FTEs, filter in Notion views
CAPACITY_TRACK_ALL_ROLES=true
# OR use selective tracking (if CAPACITY_TRACK_ALL_ROLES=false):
CAPACITY_TRACK_REVENUE_ROLES=true
CAPACITY_TRACK_ENGINEERING_ROLES=true
CAPACITY_DEPARTMENTS=Engineering,GTM,HAI Operations,HAI Product,HAI Research

# ============================================================================
# Weekly Active Jobs Sync (for #hiring-at-handshake channel - optional)
# ============================================================================
WEEKLY_JOBS_SYNC_ENABLED=false  # Set to 'true' to enable weekly cron auto-posting (Monday 9 AM PT)
AUTO_POST_JOBS_FROM_ASHBY=true  # Set to 'true' to auto-post when Ashby sends CSV via alert
# Recommended: Use AUTO_POST_JOBS_FROM_ASHBY and control timing in Ashby alerts
